---
title: "TypeScript SDK"
---
import Code from '#/components/Code.astro'
import { demoFiles } from './_data/demo-files.ts'
import Terminal from '#/components/Terminal.astro'
import { PackageManagers } from 'starlight-package-managers'
import { Tabs, TabItem } from '@astrojs/starlight/components'

## Installation

<PackageManagers
  type="add"
  frame="none"
  pkg="@unionlabs/client"
  pkgManagers={['npm', 'pnpm', 'bun', 'yarn']}
/>

The Union client is TypeScript-first and framework agnostic.
At [app.union.build](https://app.union.build) we use [Svelte](https://svelte.dev) but you can use any framework or no frameworks at all.
If you're a [React](https://reactjs.org) user, [checkout this demo on Stackblitz](https://stackblitz.com/edit/github-nav3yr-xbanxq?file=src%2Fapp.tsx).

:::note

If you need testnet tokens for testing, visit https://app.union.build/faucet and do some shopping.

:::

## Quick Example

End-to-end example to transfer assets between EVM and Cosmos SDK chains. You can run this example in the cli - more later.

We will transfer 1 `HONEY` from _**Berachain bArtio**_ (`80084`) to _**Stride Testnet**_ (`stride-internal-1`).

```ts
import { privateKeyToAccount } from "viem/accounts"
import { createUnionClient, http } from "@unionlabs/client"

const client = createUnionClient({
  chainId: "80084",
  transport: http("https://bartio.rpc.berachain.com"),
  account: privateKeyToAccount(process.env["PRIVATE_KEY"]),
})

const HONEY_ADDRESS = "0x0E4aaF1351de4c0264C5c7056Ef3777b41BD8e03"

const transfer = await client.transferAsset({
  amount: 1n,
  autoApprove: true,
  denomAddress: HONEY_ADDRESS,
  destinationChainId: "stride-internal-1",
  receiver: "stride17ttpfu2xsmfxu6shl756mmxyqu33l5ljegnwps"
})

if (transfer.isErr()) {
  console.error(transfer.error)
  process.exit(1)
}

console.info(transfer.value)
```

Run the above example

```bash frame="none"
PRIVATE_KEY= npm_config_yes=true npx tsx main.ts
```

## Breakdown

To transfer assets cross-chain, you start by initializing a client, then use the client to create a transfer.
You have the option to trigger the approval transaction manually by setting `autoApprove` to `false` then calling `.approveTransaction` before calling `.transferAsset`.

### Client Initialization

<Tabs>
  <TabItem label='EVM Based Client'>
```ts
import { privateKeyToAccount } from "viem/accounts"
import { createUnionClient, http } from "@unionlabs/client"

const client = createUnionClient({
  chainId: "80084",
  transport: http("https://bartio.rpc.berachain.com"),
  account: privateKeyToAccount(`0x${process.env.PRIVATE_KEY}`),
})
```
  </TabItem>
  
  <TabItem label='Cosmos Based Client'>
```ts
import {
  http,
  createUnionClient,
  hexStringToUint8Array
} from "@unionlabs/client"
import { DirectSecp256k1Wallet } from "@cosmjs/proto-signing"

const account = await DirectSecp256k1Wallet.fromKey(
  Uint8Array.from(hexStringToUint8Array(PRIVATE_KEY)),
  "stride"
)

const client = createUnionClient({
  account,
  chainId: "stride-internal-1",
  transport: http("stride.testnet-1.stridenet.co"),
})
```
  </TabItem>
  <TabItem label='Multi-Chain Client'>
```ts
import { 
  http, 
  hexStringToUint8Array,
  createMultiUnionClient
} from "@unionlabs/client"
import { privateKeyToAccount } from "viem/accounts"
import { DirectSecp256k1Wallet } from "@cosmjs/proto-signing"

/**
 * we initialize a multi-chain client. Our choices here are:
 *  - Berachain bArtio, an EVM chain,
 *  - Stride Testnet, a Cosmos SDK chain
 */
const clients = createMultiUnionClient([
  {
    chainId: "80084",
    transport: http("https://bartio.rpc.berachain.com"),
    account: privateKeyToAccount(`0x${process.env.PRIVATE_KEY}`),
  },
  {
    chainId: "stride-internal-1",
    transport: http("stride.testnet-1.stridenet.co"),
    account: await DirectSecp256k1Wallet.fromKey(
      Uint8Array.from(hexStringToUint8Array(PRIVATE_KEY)),
      "stride"
    ),
  }
])
```
  </TabItem>
</Tabs>


### Transferring Assets

<Tabs>
  <TabItem label='main.ts'>
```ts
import { unionClient } from "./client.ts"
import type { TransferAssetsParameters } from "@unionlabs/client"

const transferPayload = {
  amount: 1n,
  autoApprove: false,
  // ^ we will approve manually for this example
  destinationChainId: "stride-internal-1",
  receiver: "stride17ttpfu2xsmfxu6shl756mmxyqu33l5ljegnwps",
  denomAddress: "0x0E4aaF1351de4c0264C5c7056Ef3777b41BD8e03",
  // ^ HONEY contract address
} satisfies TransferAssetsParameters<"80084">

const approval = await unionClient.approveTransaction(transferPayload)

if (approval.isErr()) {
  console.error(approval.error)
  process.exit(1)
}

console.info(`Approval hash: ${approval.value}`)

const transfer = await unionClient.transferAsset(transferPayload)

if (transfer.isErr()) {
  console.error(transfer.error)
  process.exit(1)
}

console.info(`Transfer hash: ${transfer.value}`)
```
  </TabItem>
  <TabItem label='client.ts'>
```ts
import { privateKeyToAccount } from "viem/accounts"
import { createUnionClient, http } from "@unionlabs/client"

export const unionClient = createUnionClient({
  chainId: "80084",
  transport: http("https://bartio.rpc.berachain.com"),
  account: privateKeyToAccount(`0x${process.env.PRIVATE_KEY}`),
})
```
  </TabItem>
</Tabs>

Run the above example

```bash frame="none"
PRIVATE_KEY= npm_config_yes=true npx tsx main.ts
```
